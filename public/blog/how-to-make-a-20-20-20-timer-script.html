<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="content-language" content="en">
    <meta name="keywords" content="20-20-20 rule, eye strain, mac app">
    <meta name=”description” content="Prevent computer eye strain by following the doctor-recommended 20-20-20 rule with this simple Mac menu bar app.">

    <title>How to make a simple computer eye strain break reminder for Mac</title>

    <link rel="shortcut icon" href="../images/logo.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Sen:wght@400;700&display=swap" rel="stylesheet">
    <link href="../css/mystyles.css" rel="stylesheet">
    
    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="../css/atom-one-dark.css">
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-98350226-4"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-98350226-4');
    </script>

    <!-- Amplitude analytics -->
    <script type="text/javascript">
        (function(e,t){var n=e.amplitude||{_q:[],_iq:{}};var r=t.createElement("script")
        ;r.type="text/javascript"
        ;r.integrity="sha384-girahbTbYZ9tT03PWWj0mEVgyxtZoyDF9KVZdL+R53PP5wCY0PiVUKq0jeRlMx9M"
        ;r.crossOrigin="anonymous";r.async=true
        ;r.src="https://cdn.amplitude.com/libs/amplitude-7.2.1-min.gz.js"
        ;r.onload=function(){if(!e.amplitude.runQueuedFunctions){
        console.log("[Amplitude] Error: could not load SDK")}}
        ;var i=t.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)
        ;function s(e,t){e.prototype[t]=function(){
        this._q.push([t].concat(Array.prototype.slice.call(arguments,0)));return this}}
        var o=function(){this._q=[];return this}
        ;var a=["add","append","clearAll","prepend","set","setOnce","unset"]
        ;for(var u=0;u<a.length;u++){s(o,a[u])}n.Identify=o;var c=function(){this._q=[]
        ;return this}
        ;var l=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"]
        ;for(var p=0;p<l.length;p++){s(c,l[p])}n.Revenue=c
        ;var d=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId", "enableTracking", "setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId","groupIdentify","onInit","logEventWithTimestamp","logEventWithGroups","setSessionId","resetSessionId"]
        ;function v(e){function t(t){e[t]=function(){
        e._q.push([t].concat(Array.prototype.slice.call(arguments,0)))}}
        for(var n=0;n<d.length;n++){t(d[n])}}v(n);n.getInstance=function(e){
        e=(!e||e.length===0?"$default_instance":e).toLowerCase()
        ;if(!n._iq.hasOwnProperty(e)){n._iq[e]={_q:[]};v(n._iq[e])}return n._iq[e]}
        ;e.amplitude=n})(window,document);

        amplitude.getInstance().init("f28fa970fa429dc1fc553983026d43ef", {includeReferrer: true, includeUtm: true});

        window.onload = function() {
            amplitude.getInstance().logEvent('view-how-to-make-blog-page');
        };
    </script>

    <!-- Navbar hamburger menu controller -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Get all "navbar-burger" elements
            const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
            // Check if there are any navbar burgers
            if ($navbarBurgers.length > 0) {
                // Add a click event on each of them
                $navbarBurgers.forEach( el => {
                    el.addEventListener('click', () => {
                        // Get the target from the "data-target" attribute
                        const target = el.dataset.target;
                        const $target = document.getElementById(target);
                        // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
                        el.classList.toggle('is-active');
                        $target.classList.toggle('is-active');
                    });
                });
            }
        });
    </script>
</head>

<body>
    <section class="hero is-primary is-bold">
        <div class="hero-head mt-5">
            <nav class="navbar pb-3">
                <div class="container">
                    <div class="navbar-brand">
                        <a class="navbar-item navbar-logo-item" href="/">
                            <img src="../images/202020_white.svg" alt="Logo" class="mr-3">
                            <div id="nav-logo" class="is-size-4 has-text-weight-bold">202020 Timer</div>
                        </a>
                        <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarMenuItems">
                            <span aria-hidden="true"></span>
                            <span aria-hidden="true"></span>
                            <span aria-hidden="true"></span>
                        </a>
                    </div>
                    <div id="navbarMenuItems" class="navbar-menu has-text-centered">
                        <div class="navbar-end">
                            <a class="navbar-item" href="/">
                                <div class="is-size-4 has-text-weight-bold">Home</div>
                            </a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>

        <section class="hero">
            <div class="hero-body">
              <div class="container">
                <div class="columns">
                  <div class="column is-half is-offset-one-quarter">
                    <figure class="image is-2by1">
                      <img src="../images/script-notification.png" alt="Screenshot of Mac notification from script">
                    </figure>
                  </div>
                </div>
        
                <section class="section">
                  <div class="columns">
                    <div class="column is-8 is-offset-2">
                      <div class="content is-medium">
                        <div class="block">
                            <p class="is-size-5 mb-0 pb-0">October 25, 2020 | Logan Williams</p>
                            <h1 class="title mt-0 pt-0">How to make a simple script to remind you of the 20-20-20 rule</h1>
                            <p>
                                Preventing digital eye strain is easy with the
                                <a class="text-link" href="https://opto.ca/health-library/the-20-20-20-rule">20-20-20 rule</a>,
                                but it's also easy to forget to take breaks from the screen. Here's how you can
                                set up a simple script on your Mac to remind you with notifications.
                            </p>
                        </div>

                        <div class="block">
                            <h4>Step 1: Write the script</h4>
                            <p>Copy this bash script and save it in a file somewhere. For the rest of this article, I'll assume you saved it in <code>~/Desktop</code> and named it <code>timer.sh</code>.</p>                            
                            <!-- <iframe
                            src="https://carbon.now.sh/embed?bg=rgba(171%2C184%2C195%2C0)&t=seti&wt=none&l=auto&ds=false&dsyoff=20px&dsblur=68px&wc=true&wa=false&pv=0px&ph=0px&ln=false&fl=1&fm=MonoLisa&fs=13px&lh=138%25&si=false&es=2x&wm=true&code=%2523!%252Fbin%252Fbash%250Awhile%2520%253A%250Ado%250A%2520%2520%2520%2520sleep%25201200%250A%2520%2520%2520%2520osascript%2520-e%2520%27display%2520notification%2520%2522%2522%2520with%2520title%2520%2522Take%2520a%252020%2520second%2520break%2520from%2520your%2520screen%2522%27%250A%2520%2520%2520%2520sleep%252020%250A%2520%2520%2520%2520osascript%2520-e%2520%27display%2520notification%2520%2522%2522%2520with%2520title%2520%2522Break%2520time%2520is%2520over!%2522%27%250Adone"
                            style="width: 680px; height: 227px; border:0; transform: scale(1); overflow:hidden;"
                            sandbox="allow-scripts allow-same-origin">
                            </iframe> -->
                            <div class="box">
                                <pre><code class="is-size-6">#!/bin/bash
while :
do
    sleep 1200
    osascript -e 'display notification "" with title "Take a 20 second break."'
    sleep 20
    osascript -e 'display notification "" with title "Break time is over!"'
done</code></pre>

                            </div>
                        </div>

                        <div class="block">
                            <h4>Step 2: Make it executable</h4>
                            <p>
                                Add execute permissions to the file by executing this command in your terminal (substituting your filename):
                                <code>chmod u+x ~/Desktop/timer.sh</code>
                            </p>
                            <p>
                                At this point, our script works and can be run with <code>~/Desktop/timer.sh</code>. But, this requires leaving a terminal window open and requires rerunning it every time you reboot your Mac. Let's make it a little better.
                            </p>
                        </div>

                        <div class="block">
                            <h4>Step 3: Automatically launch at startup</h4>
                            <p>
                                Copy the following plist and save it as <code>timer.plist</code> in <code>~/Library/LaunchAgents/</code>, replacing <code>YOUR-USERNAME</code> with your user name.
                            </p>
                            <div class="box">
                                <pre><code class="plaintext is-size-6">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
&lt;plist version="1.0"&gt;
&lt;dict&gt;
   &lt;key&gt;Label&lt;/key&gt;
   &lt;string&gt;com.user.loginscript&lt;/string&gt;
   &lt;key&gt;ProgramArguments&lt;/key&gt;
   &lt;array&gt;&lt;string&gt;/Users/YOUR-USERNAME/Desktop/timer.sh&lt;/string&gt;&lt;/array&gt;
   &lt;key&gt;RunAtLoad&lt;/key&gt;
   &lt;true/&gt;
&lt;/dict&gt;
&lt;/plist&gt;</code></pre>
                            </div>
                            <p>
                                Now the script will be automatically run on login, thanks to OSX's process launcher and manager, launchd. To run it manually without logging out and back in, run <code>launchctl load timer.plist</code>
                            </p>
                            <p>For more info about this step, check out <a class="text-link" href="https://stackoverflow.com/a/13372744/3345085">this StackOverflow answer</a>.</p>
                        </div>
                        
                        <div class="block">
                            <h4>All done! 🚀 But what about more features?</h4>
                            <p>
                                Now you have an automatically launching script to remind you to take breaks and help prevent digital eye strain!
                            </p>
                            <p>
                                This script is great for simple reminders, but if you're looking for a smarter and more elegant timer, check out the app I built: <a class="text-link" href="/">202020 Timer</a>. It lives as an app in your menu bar and supports more features like sound notifications, pause/resume, and auto-resetting after you've been away!
                            </p>
                            <p>
                                I hope you enjoy it!
                            </p>
                        </div>

                      </div>
                    </div>
                  </div>
                </section>
              </div>
            </div>
        </section>
    </section>

    <footer class="hero-foot">
        <div class="content has-text-centered">
            <p>Copyright &copy; 2020 Logan Williams</p>
        </div>
    </footer>
</body>

</html>